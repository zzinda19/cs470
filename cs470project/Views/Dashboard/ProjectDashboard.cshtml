@model cs470project.ViewModels.ProjectApiViewModel
@{
    ViewBag.Title = "Project Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 id="header"></h2>
<br />
<ul class="nav nav-tabs nav-justified">
    <li class="active"><a data-toggle="tab" href="#home">Details</a></li>
    <li><a data-toggle="tab" href="#uploadMenu">Upload</a></li>
    <li><a data-toggle="tab" href="#downloadMenu">Download</a></li>
    <li><a data-toggle="tab" href="#usersMenu">IAM</a></li>
</ul>

<div class="tab-content">
    <div class="form-group">
        <input id="projectID" name="projectID" type="hidden" value=@Model.ProjectID>
    </div>
    <br />
    <div id="home" class="tab-pane fade in active">
        <h4>Project Description</h4>
        <p id="description"></p>
        <h4>Date Added</h4>
        <p id="insertDate"></p>
        <p>
            @Html.ActionLink("Edit Project", "EditProject", "Dashboard", new { id = Model.ProjectID }, new { @class = "btn btn-primary" })
        </p>
    </div>
    <div id="uploadMenu" class="tab-pane fade">
        <h4>Upload Accession Numbers</h4>
        <form id="uploadForm" class="form-inline" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="hasHeader">Does this file have a header?</label>
                <br />
                <div class="radio-inline">
                    <input type="radio" name="hasHeader" value="yes" checked>Yes
                </div>
                <div class="radio-inline">
                    <input type="radio" name="hasHeader" value="no">No
                </div>
            </div>
            <br /><br />
            <div class="form-group">
                <div class="input-group">
                    <input id="fileName" type="text" class="form-control" readonly>
                    <label class="input-group-btn">
                        <span class="btn btn-default">
                            Browse<input type="file" id="fileInput" name="fileInput" accept=".csv, .xls, .xlsx" style="display: none;">
                        </span>
                    </label>
                </div> &nbsp;
                <button id="submitUpload" class="btn btn-primary" type="submit">Upload</button>
            </div>
        </form>
        <br />
        <table id="researchAccessions" class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>Accession Numbers</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

    </div>
    <div id="downloadMenu" class="tab-pane fade">
        <h4>Download Key Pairs</h4>
        <form id="downloadForm">
            <div class="form-group">
                <label for="downloadType">Which set of key pairs would you like to download?</label>
                <br />
                <div class="radio-inline">
                    <input type="radio" name="downloadType" value="1" checked>Accessions Only
                </div>
                <div class="radio-inline">
                    <input type="radio" name="downloadType" value="2">MRNs Only
                </div>
                <div class="radio-inline">
                    <input type="radio" name="downloadType" value="3">Both
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Download</button>
            </div>
        </form>
    </div>
    <div id="usersMenu" class="tab-pane fade">
        <h4>User Permissions</h4>
        <table id="researchProjectUsers" class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>Username</th>
                    <th>Access Type</th>
                    <th>Remove?</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

@section scripts
{
    @Scripts.Render("~/bundles/ProjectDashboard")
}